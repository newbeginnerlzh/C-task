#include"game.h"
#include<bits/stdc++.h>
#include<windows.h>
#include<stdio.h>
#include<conio.h>


using namespace std;


int Labyrinth() {

	char a[100][100] = { "#0      ################################",
						"## ###  ## #####     #####           ###",
						"##   # ### ##### ### ##### ## ## #   ###",
						"#### # #         ### ####  ####### #####",
						"#### ### # #########             #### ##",
						"####     # #         ###### #### ### ###",
						"#    ### # # #######     ## ##   ##  ###",
						"# #####  # # #### ###### #  ## #  ## ###",
						"# ##    ###  ### #####   # ### ##  ### #",
						"# # ####### #### ### # ####    ### ### #",
						"##             ####### ####  ##### #   #",
						"##### ############ ### ##### ####### ###",
						"## ##  ###  ####       ####        ## ##",
						"## ### #### ###  ## ###### ###### ######",
						"# ## ## #######  #### #### #   #   # ###",
						"### #####       #### #   # ### # #    ##",
						"# ## #### #######   #  # # # ###  ### ##",
						"### ###           #   #    ## ### # # ##",
						"################################# ######" };
	int i, x = 0, y = 1;//p,q存储迷宫出口的位置
	for (i = 0; i < 19; i++)
		puts(a[i]);
	char ch;
	int count = 0;
	while (x != 19 || y != 33)
	{
		count++;
		ch = _getch();
		if (ch == 's')
		{
			if (a[x + 1][y] != '#')
			{
				a[x][y] = ' ';
				x++;
				a[x][y] = 'o';
			}
		}
		if (ch == 'w')
		{
			if (a[x - 1][y] != '#')
			{
				a[x][y] = ' ';
				x--;
				a[x][y] = 'o';
			}
		}
		if (ch == 'a')
		{
			if (a[x][y - 1] != '#')
			{
				a[x][y] = ' ';
				y--;
				a[x][y] = 'o';
			}
		}
		if (ch == 'd')
		{
			if (a[x][y + 1] != '#')
			{
				a[x][y] = ' ';
				y++;
				a[x][y] = 'o';
			}
		}

		for (i = 0; i < 19; i++)
			puts(a[i]);
		system("cls");
		if (x == 19 && y == 33) {
			printf("成功过关\n");
			printf("你一共走了%d步\n", count);
		}
		for (i = 0; i < 19; i++)
			puts(a[i]);
	}
	return 1;
}